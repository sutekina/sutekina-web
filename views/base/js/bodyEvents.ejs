<script>
    var baseURL = new URL("https://" + document.getElementsByName("sutekina:url")[0].getAttribute('content'));
    document.body.addEventListener('keyup', function(event) {
        if(event.target.matches(".js-enter")) {
            if (event.keyCode === 13) event.target.click();
        }
    });
    window.addEventListener(touchEvent, function(event) {
        if(event.target.id === "showpassword") document.getElementById("password").type = event.target.checked ? "text" : "password";
    });
    document.body.addEventListener('error', function(event) {
        if(event.target.matches("img") && event.target.classList.contains("results-users-icon")) {
            event.target.src = event.target.src.split("#")[0] + "#date=" + new Date().getTime();
        } else if(event.target.matches("img")) {
            event.target.src = '/public/media/images/unknown.png';
        }
    }, true);
</script>